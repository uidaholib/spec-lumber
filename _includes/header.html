<!-- TODO this file has become a mess, refactor it -->

{% assign date_format = site.date_format | default: "%B %-d, %Y" %}

{% if page.cover-img or page.title %}

{% if page.cover-image %}

<style>
   #header-big-img {
    background-image: url('{% include image/post-image.html %}');
    background-size: cover;
    background-repeat: no-repeat;
    background-position: center;
    min-height:500px;
}
</style>
  <div id="header-big-img" class="container-fluid mb-0 p-0" ></div>


<header class="">
{% if page.cover-img %}
<div class="">
  <div class="container-md">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
        <div class="{{ include.type }}-heading">
          <h1>{% if page.title %}{{ page.title }}{% else %}<br/>{% endif %}</h1>
      {% if page.subtitle %}
        {% if include.type == "page" %}
            <hr class="small">
            <span class="{{ include.type }}-subheading">{{ page.subtitle }}</span>
      {% else %}
      <h2 class="{{ include.type }}-subheading">{{ page.subtitle }}</h2>
      {% endif %}
      {% endif %}

      {% if include.type == "post" %}
          <span class="post-meta">Posted on {{ page.date | date: date_format }}</span>
          {% if page.readtime %}
            {% include readtime.html %}
          {% endif %}
      {% endif %}
        </div>
      </div>
    </div>
  </div>
  <span class='img-desc'></span>
</div>
{% endif %}
<div class="intro-header no-img">
  <div class="container-md">
    <div class="row">
      <div class="col-xl-8 offset-xl-2 col-lg-10 offset-lg-1">
        <div class="{{ include.type }}-heading">
          <h1>{% if page.title %}{{ page.title }}{% else %}<br/>{% endif %}</h1>
      {% if page.subtitle %}
        {% if include.type == "page" %}
            <hr class="small">
            <span class="{{ include.type }}-subheading">{{ page.subtitle }}</span>
      {% else %}
      <h2 class="{{ include.type }}-subheading">{{ page.subtitle }}</h2>
      {% endif %}
      {% endif %}

      {% if include.type == "post" %}
          <span class="post-meta">Posted on {{ page.date | date: date_format }}</span>
          {% if page.readtime %}
            {% include readtime.html %}
          {% endif %}
      {% endif %}
        </div>
      </div>
    </div>
  </div>
</div>
</header>
</div>
{% endif%}


{% else %}
<div class="intro-header"></div>
{% endif %}
